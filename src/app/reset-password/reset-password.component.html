<div class="background-image"></div>
<div class="overlay"></div>

<div class="reset-password-container">
  <div class="reset-password-card">
    <!-- Header -->
    <div class="card-header">
      <i class="fas fa-key"></i>
      <h2>Réinitialiser le mot de passe</h2>
      <p>Créez un nouveau mot de passe</p>
    </div>

    <!-- Body -->
    <div class="card-body">
      <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
        <!-- Email Field -->
        <div class="form-group">
          <input
            id="email"
            type="email"
            formControlName="email"
            class="form-control"
            placeholder="Adresse email"
            required
          >
          <div *ngIf="resetPasswordForm.get('email')?.invalid && resetPasswordForm.get('email')?.touched" class="error-message">
            <i class="fas fa-exclamation-circle"></i> Veuillez entrer une adresse email valide.
          </div>
        </div>

        <!-- New Password Field -->
        <div class="form-group">
          <input
            id="password"
            type="password"
            formControlName="password"
            class="form-control"
            placeholder="Nouveau mot de passe (min. 8 caractères)"
            required
          >
          <div *ngIf="resetPasswordForm.get('password')?.invalid && resetPasswordForm.get('password')?.touched" class="error-message">
            <i class="fas fa-exclamation-circle"></i> Le mot de passe doit contenir au moins 8 caractères.
          </div>
        </div>

        <!-- Confirm Password Field -->
        <div class="form-group">
          <input
            id="password_confirmation"
            type="password"
            formControlName="password_confirmation"
            class="form-control"
            placeholder="Confirmer le mot de passe"
            required
          >
          <div *ngIf="resetPasswordForm.hasError('notSame') && resetPasswordForm.get('password_confirmation')?.touched" class="error-message">
            <i class="fas fa-exclamation-circle"></i> Les mots de passe ne correspondent pas.
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-submit" [disabled]="resetPasswordForm.invalid">
          <i class="fas fa-sync-alt"></i> Réinitialiser le mot de passe
        </button>
      </form>
    </div>
  </div>
</div>